(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{14:function(e,t,n){e.exports=n(37)},19:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(13),o=n.n(c),u=(n(19),n(2)),i=function(e){var t=e.newFilter,n=e.doFiltering;return r.a.createElement("div",null,"Filter shown with: ",r.a.createElement("input",{value:t,onChange:n}))},l=function(e){var t=e.handleSubmit,n=e.newName,a=e.setNewName,c=e.setNewNumber,o=e.newNumber;return r.a.createElement("form",{onSubmit:t},r.a.createElement("div",null,"name:"," ",r.a.createElement("input",{value:n,onChange:function(e){return a(e.target.value)}})),r.a.createElement("div",null,"number:"," ",r.a.createElement("input",{value:o,onChange:function(e){return c(e.target.value)}})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"add")))},s=function(e){var t=e.peopleToShow,n=e.handleDelete;return r.a.createElement("div",null,t.map((function(e){var t=e.name,a=e.number,c=e.id;return r.a.createElement("p",{key:c},t," ",a," ",r.a.createElement("button",{onClick:function(){return n(c,t)}},"delete"))})))},m=n(3),f=n.n(m),d="/api/persons",h=function(e){var t=e.message,n=t.text,a=t.type;return n?r.a.createElement("div",{className:a},n):null},b=function(){var e=Object(a.useState)([]),t=Object(u.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(""),m=Object(u.a)(o,2),b=m[0],p=m[1],w=Object(a.useState)(""),v=Object(u.a)(w,2),E=v[0],g=v[1],N=Object(a.useState)([]),j=Object(u.a)(N,2),O=j[0],y=j[1],S=Object(a.useState)(""),k=Object(u.a)(S,2),x=k[0],T=k[1],F=Object(a.useState)(""),C=Object(u.a)(F,2),D=C[0],B=C[1];Object(a.useEffect)((function(){f.a.get(d).then((function(e){return e.data})).then((function(e){c(e),y(e)})).catch((function(e){return console.log(e)}))}),[]);return r.a.createElement("div",null,r.a.createElement("h2",null,"Phonebook"),r.a.createElement(h,{message:D}),r.a.createElement(i,{newFilter:x,doFiltering:function(e){T(e.target.value);var t=new RegExp(x,"i"),a=n.filter((function(e){return t.test(e.name)}));a.length>0?y(a):y(n)}}),r.a.createElement("h3",null,"Add a new"),r.a.createElement(l,{handleSubmit:function(e){e.preventDefault();var t,a,r={name:b,number:E},o=n.find((function(e){return e.name===b}));if(o)return window.confirm("".concat(b," is already added to phonebook, replace the old number with a new one ?"))&&(t=o.id,a=r,f.a.put("".concat(d,"/").concat(t),a).then((function(e){return e.data}))).then((function(e){y(O.filter((function(e){return e.id!==o.id})).concat(e)),c(n.filter((function(e){return e.id!==o.id})).concat(e)),p(""),g(""),B({text:"Number changed successfully !",type:"success"}),setTimeout((function(){B("")}),5e3)})).catch((function(e){B({text:e.response.data.error.message,type:"error"}),setTimeout((function(){B("")}),5e3)}));(function(e){return f.a.post(d,e).then((function(e){return e.data}))})(r).then((function(e){y(O.concat(e)),c(n.concat(e)),p(""),g(""),B({text:"Number added successfully !",type:"success"}),setTimeout((function(){B("")}),5e3)})).catch((function(e){B({text:e.response.data.error.message,type:"error"}),setTimeout((function(){B("")}),5e3)}))},newName:b,setNewName:p,setNewNumber:g,newNumber:E}),r.a.createElement("h3",null,"Numbers"),r.a.createElement(s,{peopleToShow:O,handleDelete:function(e,t){var a=function(t){return t.filter((function(t){return t.id!==e}))};window.confirm("Delete ".concat(t," ?"))&&function(e){return f.a.delete("".concat(d,"/").concat(e))}(e).then((function(){y(a(O)),c(a(n))}))}}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(b,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[14,1,2]]]);
//# sourceMappingURL=main.209f8cfa.chunk.js.map